@if (lot$ | async; as lot) {
<div class="grid grid-cols-2 gap-x-8 gap-y-6">
  <div class="flex flex-col gap-6">
    <div class="flex flex-col gap-4">
      <div class="flex flex-col gap-2">
        <h2 class="text-h1 text-gray-80">{{ lot.name }}</h2>
        <p class="text-body text-gray-70">{{ lot.description }}</p>
      </div>
      <div class="flex flex-wrap">
        @for (tag of lot.tags; track $index) {
        <app-chip backgroundColor="primary-80" [label]="tag"></app-chip>
        }
      </div>
    </div>

    <div class="flex flex-col gap-4">
      <div
        class="border border-gray-20 rounded-lg flex justify-center items-center gap-6 px-2 py-4">
        <span class="text-h5 text-gray-40">Стартова ціна</span>
        <span>-</span>
        <span class="text-h5 text-gray-70">{{ lot.initialPrice }} грн</span>
      </div>
      <div
        class="border border-gray-20 rounded-lg flex justify-center items-center gap-6 px-2 py-4">
        <span class="text-h5 text-gray-40">Мінімальний крок</span>
        <span>-</span>
        <span class="text-h5 text-gray-70">{{ lot.minimalStep }} грн</span>
      </div>
    </div>
  </div>
  <div>
    <app-image-carousel></app-image-carousel>
  </div>
  <div class="flex flex-col gap-2">
    <h4 class="text-h4 text-gray-80">Учасники</h4>
    <div
      class="flex gap-4 flex-wrap rounded-2xl p-6 border border-gray-20 justify-center">
      @for (bet of lot.bets; track index; let index = $index) {
      <span class="text-h5 text-{{memberColors[bet.author]}}">
        {{ bet.author }}
      </span>
      @if (index === lot.bets.length - 1) {
      <span class="text-h5 text-gray-80">-</span>
      } } @empty {
      <span class="text-body text-gray-80">Ще немає учасників</span>
      }
    </div>
  </div>
  <div class="flex flex-col gap-6">
    <div class="flex flex-col gap-2 text-center">
      <div
        class="flex justify-center items-baseline rounded-lg gap-6 px-2 py-4 border-2 border-primary-100">
        <span class="text-h5 text-gray-70">Поточна ставка</span>
        <span class="text-h4 text-gray-80"
          >{{lot.bets[0]?.amount || lot.initialPrice}} грн</span
        >
      </div>
      <span class="text-body text-gray-40"
        >{{ lot.status === lotStatus.NotStarted ? 'До початку' : 'До кінця'}} -
        <countdown
          class="[&>*]:text-body [&>*]:normal-nums"
          [config]="{ leftTime: remainedTime, format: 'ddд HHг mmхв ssс' }"></countdown
      ></span>
    </div>
    <app-button [disabled]="lot.status !== lotStatus.Active">
      Зробити крок - {{(lot.bets[0]?.amount || lot.initialPrice) +
      lot.minimalStep}} грн
    </app-button>
    <div class="grid gap-8 grid-cols-2 items-center">
      <app-form-field label="Своя ставка"></app-form-field>
      <app-button [disabled]="lot.status !== lotStatus.Active">
        Зробити ставку
      </app-button>
    </div>
    <div class="flex flex-col gap-2">
      <h4 class="text-h4 text-gray-80">Історія ставок</h4>
      <div
        class="flex flex-col gap-4 p-6 rounded-2xl border border-gray-20 text-center">
        @for (bet of lot.bets; track $index) {
        <div class="flex justify-between border-b border-b-primary-80">
          <span class="text-h5 text-primary-100">{{ bet.author }}:</span>
          <span class="text-h5 text-gray-80">{{ bet.amount}} грн</span>
          <span class="text-h5 text-gray-40">
            {{ bet.createdAt | date: 'dd.mm - HH:MM' }}
          </span>
        </div>
        } @empty {
        <span class="text-body text-gray-80">Ще немає ставок</span>
        }
      </div>
    </div>
  </div>
</div>
}
